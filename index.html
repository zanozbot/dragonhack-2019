<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>GreenGO - Charge smart and save money</title>
  <meta name="description" content="GreenGO - Charge smart and save money">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" href="images/logo2.png">
  <link rel="shortcut icon" href="images/logo2.png">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css">
  <link rel="stylesheet" href="assets/css/cs-skin-elastic.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script> -->
  <link href="https://cdn.jsdelivr.net/npm/chartist@0.11.0/dist/chartist.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/jqvmap@1.5.1/dist/jqvmap.min.css" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/weathericons@2.1.0/css/weather-icons.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@3.9.0/dist/fullcalendar.min.css" rel="stylesheet" />

  <style>
    #weatherWidget .currentDesc {
      color: #ffffff !important;
    }

    .traffic-chart {
      min-height: 335px;
    }

    #flotPie1 {
      height: 150px;
    }

    #flotPie1 td {
      padding: 3px;
    }

    #flotPie1 table {
      top: 20px !important;
      right: -10px !important;
    }

    .chart-container {
      display: table;
      min-width: 270px;
      text-align: left;
      padding-top: 10px;
      padding-bottom: 10px;
    }

    #flotLine5 {
      height: 105px;
    }

    #flotBarChart {
      height: 150px;
    }

    #cellPaiChart {
      height: 160px;
    }
  </style>
</head>

<body>
  <!-- Left Panel -->
  <aside id="left-panel" class="left-panel">
    <nav class="navbar navbar-expand-sm navbar-default">
      <div id="main-menu" class="main-menu collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="menu-title">General</li><!-- /.menu-title -->
          <li class="li-item active">
            <a href="index.html"><i class="menu-icon fa fa-laptop"></i>DASHBOARD </a>
          </li>
          <li>
            <hr>
          </li>
          <li class="menu-title">Devices</li><!-- /.menu-title -->
          <li class="li-item">
            <a href="devices.html"><i class="menu-icon pe-7s-car"></i>NISSAN LEAF </a>
          </li>
          <li class="li-item">
            <a href="#"><i class="menu-icon pe-7s-car"></i>TESLA X </a>
          </li>
          <li class="li-item">
            <a href="#"><i class="menu-icon pe-7s-bicycle"></i>ELECTRIC SCOOTER </a>
          </li>
          <li class="li-item">
            <a href="#"><i class="menu-icon pe-7s-plug"></i>BEKO WASHING MA... </a>
          </li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </nav>
  </aside>
  <!-- /#left-panel -->
  <!-- Right Panel -->
  <div id="right-panel" class="right-panel">
    <!-- Header-->
    <header id="header" class="header">
      <div class="top-left">
        <div class="navbar-header">
          <a class="navbar-brand" href="./"><img src="images/logo.jpg" alt="Logo"></a>
          <a class="navbar-brand hidden" href="./"><img src="images/logo2.png" alt="Logo"></a>
          <a id="menuToggle" class="menutoggle"><i class="fa fa-bars"></i></a>
        </div>
      </div>
      <div class="top-right">
        <div class="header-menu">
          <div class="header-left">
            <div class="dropdown for-notification">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="notification" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-bell"></i>
                <span class="no-count bg-danger">2</span>
              </button>
              <div class="dropdown-menu" aria-labelledby="notification">
                <p class="red">You have 2 notifications</p>
                <a class="dropdown-item media" href="#">
                  <span>5:33am</span>
                  <p>BEKO WASHING MACHINE started washing.</p>
                </a>
                <a class="dropdown-item media" href="#">
                  <span>2:33am</span>
                  <p>NISSAN LEAF started charging.</p>
                </a>
              </div>
            </div>
          </div>

          <div class="user-area dropdown float-right">
            <a href="#" class="dropdown-toggle active" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">
              <img class="user-avatar rounded-circle" src="images/man.png" alt="User Avatar">
            </a>

            <div class="user-menu dropdown-menu">
              <a class="nav-link" href="#"><i class="fa fa- user"></i>My Profile</a>

              <a class="nav-link" href="#"><i class="fa fa -cog"></i>Settings</a>

              <a class="nav-link" href="#"><i class="fa fa-power -off"></i>Logout</a>
            </div>
          </div>

        </div>
      </div>
    </header>
    <!-- /#header -->
    <!-- Content -->
    <div class="content">
      <!-- Animated -->
      <div class="animated fadeIn">
        <!-- Widgets  -->
        <div class="row">
          <div class="col-lg-4 col-md-6">
            <div class="card">
              <div class="card-body">
                <div class="stat-widget-five">
                  <div class="stat-icon dib flat-color-1">
                    <i class="pe-7s-cash"></i>
                  </div>
                  <div class="stat-content">
                    <div class="text-left dib">
                      <div class="stat-text"><span>234.53â‚¬</span></div>
                      <div class="stat-heading">Total savings</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6">
            <div class="card">
              <div class="card-body">
                <div class="stat-widget-five">
                  <div class="stat-icon dib flat-color-2">
                    <i class="pe-7s-network"></i>
                  </div>
                  <div class="stat-content">
                    <div class="text-left dib">
                      <div class="stat-text"><span>4</span></div>
                      <div class="stat-heading">Connected devices</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6">
            <div class="card">
              <div class="card-body">
                <div class="stat-widget-five">
                  <div class="stat-icon dib flat-color-4">
                    <i class="pe-7s-users"></i>
                  </div>
                  <div class="stat-content">
                    <div class="text-left dib">
                      <div class="stat-text"><span>2</span></div>
                      <div class="stat-heading">Users</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- /Widgets -->
        <!--  Traffic  -->
        <div class="row">
          <div class="col-lg-6">
            <div class="card">
              <div class="card-body">
                <h4 class="box-title">Daily rate</h4>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="card-body">
                    <canvas id="lineChart"></canvas>
                  </div>
                </div>
              </div> <!-- /.row -->
              <div class="card-body">
                <div id="tooltip-for-daily-rate"> </div>
              </div>
            </div>
          </div><!-- /# column -->
          <div class="col-lg-6">
            <div class="card">
              <div class="card-body">
                <h4 class="box-title">Predicted rate</h4>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="card-body">
                    <canvas id="lineChart2"></canvas>
                  </div>
                </div>
              </div> <!-- /.row -->
              <div class="card-body"></div>
            </div>
          </div><!-- /# column -->
        </div>
        <!--  /Traffic -->
        <div class="clearfix"></div>
        <!-- Orders -->
        <div class="orders">
          <div class="row">
            <div class="col-xl-12">
              <div class="card">
                <div class="card-body">
                  <h4 class="box-title">Devices</h4>
                </div>
                <div class="card-body--">
                  <div class="table-stats order-table ov-h">
                    <table class="table ">
                      <thead>
                        <tr>
                          <th class="serial">#</th>
                          <th class="avatar">Avatar</th>
                          <th>Name</th>
                          <th>Progress</th>
                          <th>Time to completion</th>
                          <th>Actual charge time</th>
                          <th>Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class='clickable-row' data-href="devices.html">
                          <td class="serial">1.</td>
                          <td class="avatar">
                            <div class="stat-icon dib flat-color-1">
                              <i class="pe-7s-car icon-mlg"></i>
                            </div>
                          </td>
                          <td> <span class="name">NISSAN LEAF</span> </td>
                          <td> <span class="product">67%</span> <i
                              class="fa fa-battery-three-quarters flat-color-1"></i> </td>
                          <td>11h</td>
                          <td>4h</td>
                          <td>
                            <span class="badge badge-complete">Usage</span>
                          </td>
                        </tr>
                        <tr class='clickable-row' data-href="devices.html">
                          <td class="serial">2.</td>
                          <td class="avatar">
                            <div class="stat-icon dib flat-color-1">
                              <i class="pe-7s-car icon-mlg"></i>
                            </div>
                          </td>
                          <td> <span class="name">TESLA X</span> </td>
                          <td> <span class="product">47%</span> <i class="fa fa-battery-half flat-color-4"></i> </td>
                          <td>4.5h</td>
                          <td>4h</td>
                          <td>
                            <span class="badge badge-pending">Idle</span>
                          </td>
                        </tr>
                        <tr class='clickable-row' data-href="devices.html">
                          <td class="serial">3.</td>
                          <td class="avatar">
                            <div class="stat-icon dib flat-color-1">
                              <i class="pe-7s-bicycle icon-mlg"></i>
                            </div>
                          </td>
                          <td> <span class="name">ELECTRIC SCOOTER</span> </td>
                          <td> <span class="product">56%</span> <i class="fa fa-battery-half flat-color-4"></i></td>
                          <td>1h</td>
                          <td>1h</td>
                          <td>
                            <span class="badge badge-pending">Idle</span>
                          </td>
                        </tr>
                        <tr class='clickable-row' data-href="devices.html">
                          <td class="serial">4.</td>
                          <td class="avatar">
                            <div class="stat-icon dib flat-color-1">
                              <i class="pe-7s-plug icon-mlg"></i>
                            </div>
                          </td>
                          <td> <span class="name">BEKO WASHING MACHINE</span> </td>
                          <td> <span class="product">Washing</span> <i class="fa fa-cog fa-spin flat-color-4"></i> </td>
                          <td>1.45h</td>
                          <td>1.45h</td>
                          <td>
                            <span class="badge badge-complete">Usage</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div> <!-- /.table-stats -->
                </div>
              </div> <!-- /.card -->
            </div> <!-- /.col-lg-8 -->
          </div>
        </div>
        <!-- /.orders -->

        <!-- Modal - Calendar - Add New Event -->
        <div class="modal fade none-border" id="event-modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"><strong>Add New Event</strong></h4>
              </div>
              <div class="modal-body"></div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-success save-event waves-effect waves-light">Create event</button>
                <button type="button" class="btn btn-danger delete-event waves-effect waves-light"
                  data-dismiss="modal">Delete</button>
              </div>
            </div>
          </div>
        </div>
        <!-- /#event-modal -->
        <!-- Modal - Calendar - Add Category -->
        <div class="modal fade none-border" id="add-category">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"><strong>Add a category </strong></h4>
              </div>
              <div class="modal-body">
                <form>
                  <div class="row">
                    <div class="col-md-6">
                      <label class="control-label">Category Name</label>
                      <input class="form-control form-white" placeholder="Enter name" type="text"
                        name="category-name" />
                    </div>
                    <div class="col-md-6">
                      <label class="control-label">Choose Category Color</label>
                      <select class="form-control form-white" data-placeholder="Choose a color..."
                        name="category-color">
                        <option value="success">Success</option>
                        <option value="danger">Danger</option>
                        <option value="info">Info</option>
                        <option value="pink">Pink</option>
                        <option value="primary">Primary</option>
                        <option value="warning">Warning</option>
                      </select>
                    </div>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger waves-effect waves-light save-category"
                  data-dismiss="modal">Save</button>
              </div>
            </div>
          </div>
        </div>
        <!-- /#add-category -->
      </div>
      <!-- .animated -->
    </div>
    <!-- /.content -->
    <div class="clearfix"></div>
    <!-- Footer -->
    <footer class="site-footer">
      <div class="footer-inner bg-white">
        <div class="row">
          <div class="col-sm-6">
            Copyright &copy; 2019 GreenGo
          </div>
        </div>
      </div>
    </footer>
    <!-- /.site-footer -->
  </div>
  <!-- /#right-panel -->

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="devices.js"></script>

  <!--  Chart js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.7.3/dist/Chart.bundle.min.js"></script>

  <!--Chartist Chart-->
  <script src="https://cdn.jsdelivr.net/npm/chartist@0.11.0/dist/chartist.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartist-plugin-legend@0.6.2/chartist-plugin-legend.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/jquery.flot@0.8.3/jquery.flot.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flot-pie@1.0.0/src/jquery.flot.pie.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flot-spline@0.0.1/js/jquery.flot.spline.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/simpleweather@3.1.0/jquery.simpleWeather.min.js"></script>
  <script src="assets/js/init/weather-init.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@3.9.0/dist/fullcalendar.min.js"></script>
  <script src="assets/js/init/fullcalendar-init.js"></script>

  <!--Local Stuff-->
  <script>
    jQuery(document).ready(function ($) {
      "use strict";
      var deviceDict = {
        "1am": ["Tesla X", "nissan"]
      }

      var customTooltips = function (tooltip) {
        // Tooltip Element
        var tooltipEl = document.getElementById('tooltip-for-daily-rate');
        // Hide if no tooltip
        if (tooltip.opacity === 0) {
          tooltipEl.style.opacity = 0;
          return;
        }
        if (tooltip.title) {
          var key = tooltip.title[0];
          var devices = deviceDict[key];
          var innerHtml = "<div class=\"table-stats order-table ov-h\"><table class=\"table \"><thead><tr><th class=\"serial\">#</th><th class=\"avatar\">Avatar</th><th>Name</th></thead><tbody>";
          if (devices) {
            devices.forEach(function (device) {
              switch (device) {
                case "nissan": innerHtml += "<tr><td class=\"serial\">1.</td><td class=\"avatar\"><div class=\"stat-icon dib flat-color-3\"><i class=\"pe-7s-car icon-mlg\"></i></div></td><td><span class=\"name\">NISSAN LEAF</span> </td></tr>"
                  break;
              }
            });
          }
          innerHtml += '</tbody></table></div>';
          tooltipEl.innerHTML = innerHtml;
        }
        //var position = this._chart.canvas.getBoundingClientRect();
        // Display, position, and set styles for font
        tooltipEl.style.opacity = 1;
      };
      var ctx = document.getElementById("lineChart");
      ctx.height = 150;

      var myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['1am', '2am', '3am', '4am', '5am', '6am', '7am', '8am', '9am', '10am', '11am', '12am', '1pm', '2pm', '3pm', '4pm', '5pm', '6pm', '7pm', '8pm', '9pm', '10pm', '11pm', '12pm'],
          datasets: [
            {
              steppedLine: 'middle',
              label: "Rate",
              borderColor: "rgba(0,0,0,.29)",
              borderWidth: "1",
              backgroundColor: "rgba(0,0,0,.07)",
              data: [35.96, 29.74, 29.37, 29.41, 30.43, 35.73, 46.16, 53.01, 43.26, 40.00, 36.70, 34.70, 32.74, 31.33, 30.98, 32.06, 36.05, 43.60, 48.95, 48.96, 47.61, 46.88, 41.26, 39.12, 38.45],
            },
            {
              steppedLine: 'middle',
              label: "Optimal Rate",
              borderColor: "rgba(0, 194, 146, 0.9)",
              borderWidth: "1",
              backgroundColor: "rgba(0, 194, 146, 0.5)",
              pointHighlightStroke: "rgba(26,179,148,1)",
              data: [NaN, 29.74, 29.37, 29.41, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 32.74, 31.33, 30.98, NaN]
            }
          ]

        },
        options: {
          responsive: true,
          events: ['click'],
          tooltips: {
            mode: 'index',
            position: 'nearest',
            custom: customTooltips
          },
        }
      });

      var ctx = document.getElementById("lineChart2");
      ctx.height = 150;
      var myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['1am', '2am', '3am', '4am', '5am', '6am', '7am', '8am', '9am', '10am', '11am', '12am', '1pm', '2pm', '3pm', '4pm', '5pm', '6pm', '7pm', '8pm', '9pm', '10pm', '11pm', '12pm'],
          datasets: [
            {
              borderDash: [5, 3],
              steppedLine: 'middle',
              label: "Predicted rate",
              borderColor: "rgba(0,0,0,.29)",
              borderWidth: "1",
              backgroundColor: "rgba(0,0,0,.07)",
              data: [35.96, 29.74, 29.37, 29.41, 30.43, 35.73, 46.16, 53.01, 43.26, 40.00, 36.70, 34.70, 32.74, 31.33, 30.98, 32.06, 36.05, 43.60, 48.95, 48.96, 47.61, 46.88, 41.26, 39.12, 38.45],
            },
            {
              borderDash: [10, 5],
              steppedLine: 'middle',
              label: "Predicted optimal Rate",
              borderColor: "rgba(0, 146, 194, 0.9)",
              borderWidth: "1",
              backgroundColor: "rgba(0, 146, 194, 0.5)",
              pointHighlightStroke: "rgba(26,179,148,1)",
              data: [0, 29.74, 29.37, 29.41, 0, 0, 0, 0, 0, 0, 0, 0, 32.74, 31.33, 30.98, 0]
            }

          ]

        },
        options: {
          responsive: true,
          tooltips: {
            mode: 'index',
            intersect: false
          },
          hover: {
            mode: 'nearest',
            intersect: true
          }
        }
      });


      // chart.on('draw', function(data) {
      //     if(data.type === 'line' || data.type === 'area') {
      //         data.element.animate({
      //             d: {
      //                 begin: 2000 * data.index,
      //                 dur: 2000,
      //                 from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
      //                 to: data.path.clone().stringify(),
      //                 easing: Chartist.Svg.Easing.easeOutQuint
      //             }
      //         });
      //     }
      // });

      // Traffic Chart using chartist End
      // Bar Chart #flotBarChart
      $.plot("#flotBarChart", [{
        data: [[0, 18], [2, 8], [4, 5], [6, 13], [8, 5], [10, 7], [12, 4], [14, 6], [16, 15], [18, 9], [20, 17], [22, 7], [24, 4], [26, 9], [28, 11]],
        bars: {
          show: true,
          lineWidth: 0,
          fillColor: '#ffffff8a'
        }
      }], {
          grid: {
            show: false
          }
        });
      // Bar Chart #flotBarChart End
    });
  </script>
</body>

</html>